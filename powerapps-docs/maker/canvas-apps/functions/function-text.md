---
title: Text 関数 | Microsoft Docs
description: 構文と例を含む PowerApps の Text 関数の参照情報
services: ''
suite: powerapps
documentationcenter: na
author: gregli-msft
manager: anneta
editor: ''
tags: ''
ms.service: powerapps
ms.devlang: na
ms.topic: article
ms.tgt_pltfrm: na
ms.workload: na
ms.date: 10/25/2016
ms.author: gregli
ms.openlocfilehash: 515afea5dee865400bb096c401b865a21e9d3b47
ms.sourcegitcommit: 59785e9e82da8f5bd459dcb5da3d5c18064b0899
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/22/2018
---
# <a name="text-function-in-powerapps"></a>PowerApps の Text 関数
テキストの文字列として表示するよう、数値または日付/時刻値の形式を設定します。

## <a name="description"></a>説明
**Text** 関数は、次のいずれかの型の引数に基づいて、数値または日付/時刻値の書式を設定します。

* 定義済みの日付/時刻書式。**DateTimeFormat** の列挙を使用して指定します。  この方法は、各ユーザーの言語と場所に日付と時刻を自動的に調整するため、推奨されます。
* カスタム形式。数値または日付/時刻値の書式の設定方法を示すプレースホルダーで構成されたテキストの文字列です。 プレースホルダーでは、表示する桁数、グループ区切り記号の使用、および月の名前の表示方法を定義します。 PowerApps では、Microsoft Excel がサポートするプレースホルダーのサブセットをサポートします。

詳細については、[日付と時刻の操作](../show-text-dates-times.md)に関するページを参照してください。

### <a name="predefined-datetime-formats"></a> 定義済みの日付/時刻書式
| 定義済みの書式 | 説明 |
| --- | --- |
| **DateTimeFormat.LongDate** |完全な年、月、日、曜日。 月の名前と曜日は省略されません。 |
| **DateTimeFormat.LongDateTime** |完全な年、月、日、曜日、および時間 (12 時間制)、分、秒、および AM/PM の指定。 月の名前と曜日は省略されません。 |
| **DateTimeFormat.LongDateTime24** |完全な年、月、日、曜日、および時間 (24 時間制)、分、秒。 月の名前と曜日は省略されません。 |
| **DateTimeFormat.LongTime** |時間 (12 時間制)、分、秒、および AM/PM の指定。 ShortTime と同じです。 |
| **DateTimeFormat.LongTime24** |時間 (24 時間制)、分、秒。 ShortTime24 と同じです。 |
| **DateTimeFormat.ShortDate** |4 桁の年と 2 桁の月と日。 |
| **DateTimeFormat.ShortDateTime** |4 桁の年と 2 桁の月と日、および時間 (12 時間制)、分、秒、AM/PM の指定。 |
| **DateTimeFormat.ShortDateTime24** |4 桁の年と 2 桁の月と日、および時間 (24 時間制)、分、秒、AM/PM の指定。 |
| **DateTimeFormat.ShortTime** |時間 (12 時間制)、分、秒、および AM/PM の指定。  LongTime と同じです。 |
| **DateTimeFormat.ShortTime24** |時間 (24 時間制)、分、および秒。  LongTime24 と同じです。 |
| **DateTimeFormat.UTC** |日付/時刻値は、現在のユーザーのタイム ゾーンに基づいて UTC に変換され、ISO 8601 標準に従って書式が設定されます。 |

### <a name="number-placeholders"></a>数値のプレースホルダー
| プレースホルダー | 説明 |
| --- | --- |
| **0** (*ゼロ*) |書式の 0 の数よりも数値の桁数が少ない場合に、意味のないゼロを表示します。 たとえば、**8.9** を **8.90** と表示する場合は、書式 **#.00** を使用します。 |
| **#** |**0** (ゼロ) と同じ規則に従います。 ただし、**Text** では、小数点の両側で、書式の # 記号の数よりも桁数が少ない場合、余分な 0 を返しません。 たとえば、カスタム書式が **#.##** で、書式設定する数値が **8.9** である場合に、**8.9** が表示されます。 |
| **.** (*ピリオド*) |数値に小数点を表示します。  カスタム書式の言語に依存します。詳細については、「[グローバル アプリ](#global-apps)」を参照してください。 |
| **,** (*コンマ*) |多くの場合に 1,000 ごとの区切りに使用される、数値のグループ区切り記号を表示します。 **Text** は、数値記号 (**#**) またはゼロで囲まれたコンマが書式に含まれている場合に、コンマでグループを区切ります。  カスタム書式の言語に依存します。詳細については、「[グローバル アプリ](#global-apps)」を参照してください。 |

小数点の右側の数値で桁数が書式のプレースホルダーの数よりも多い場合、数値は、プレースホルダーと同数の小数点以下の桁数に四捨五入されます。 小数点の左側で桁数がプレースホルダーの数よりも多い場合、桁数を追加して表示します。 書式で数値記号 (#) が小数点の左側だけにある場合は、1 未満の数値は小数点で始まります (例、**.47**)。

### <a name="date-and-time-placeholders"></a>日付と時刻のプレースホルダー
| プレースホルダー | 説明 |
| --- | --- |
| **m** |先頭に 0 を付けずに数値で月を表示します。 |
| **mm** |適宜、先頭に 0 を付けて数値で月を表示します。 |
| **mmm** |省略形で月を表示します (**Jan** ～ **Dec**)。 |
| **mmmm** |完全な名前で月を表示します (**January** ～ **December**)。 |
| **d** |先頭に 0 を付けずに数値で日を表示します。 |
| **dd** |適宜、先頭に 0 を付けて数値で日を表示します。 |
| **ddd** |省略形で曜日を表示します (**Sun** ～ **Sat**)。 |
| **dddd** |完全な名前で曜日を表示します (**Sunday** ～ **Saturday**)。 |
| **yy** |年を 2 桁の数字で表示します。 |
| **yyyy** |年を 4 桁の数字で表示します。 |
| **h** |先頭に 0 を付けずに数値で時間を表示します。 |
| **hh** |適宜、先頭に 0 を付けて数値で時間を表示します。 書式に **AM** または **PM** が含まれている場合、時間は 12 時間制に基づいて表示されます。 それ以外の場合、時間は 24 時間制に基づいて表示されます。 |
| **m** |先頭に 0 を付けずに数値で分を表示します。  > [!NOTE]
> コード **m** または **mm** は、コード **h** または **hh** の直後、あるいはコード **ss** の直前に表示する必要があります。それ以外の場合、**Text** は分ではなく月を返します。 |
| **mm** |適宜、先頭に 0 を付けて数値で分を表示します。 > [!NOTE]
> プレースホルダー **m** または **mm** は、プレースホルダー **h** または **hh** の直後、あるいはプレースホルダー **ss** の直前に表示する必要があります。 それ以外の場合は、**Text** では、分ではなく月を返します。 |
| **s** |先頭に 0 を付けずに数値で秒を表示します。 |
| **ss** |適宜、先頭に 0 を付けて数値で秒を表示します。 |
| **f** |分数で秒を表示します。 |
| **AM/PM**、**am/pm**、**A/P****a/p** |12 時間制に基づいて時間を表示します。 **Text** では "AM"、"am"、"A" または "a" は午前 0 時から正午までの時間、"PM"、"pm"、"P" または "p" は正午から午前 0 時までの時間を返します。 |

### <a name="literal-placeholders"></a>リテラルのプレースホルダー
次のすべての文字を書式文字列に含めることができます。  含めた文字は、**Text** の結果にそのまま表示されます。 この他の文字は、将来のプレースホルダー用に予約されているため、使用しないでください。

| 文字 | 説明 |
| --- | --- |
| すべての通貨記号 |ドル記号、セント記号、ユーロ記号など。 |
| **+** |プラス記号 |
| **(** |左かっこ |
| **:** |コロン |
| **^** |アクサン シルコンフレックス (キャレット) |
| **'** |アポストロフィ |
| **{** |左中かっこ |
| **<** |より小記号 |
| **=** |等号 |
| **-** |マイナス記号 |
| **/** |スラッシュ マーク |
| **)** |右かっこ |
| **&** |アンパサンド |
| **~** |チルダ |
| **}** |右中かっこ |
| **>** |より大記号 |
| &nbsp; |空白文字 |

## <a name="global-apps"></a>グローバル アプリ
**Text** 関数はグローバル対応です。  幅広い言語で、日付、時刻、通貨、および数値を正しく表示できます。  これを行うには、次の 2 つの情報が必要です。

* **カスタム書式の言語:** 作成者は、カスタム書式を解釈する方法を指定する必要があります。  区切り記号文字 (**.** と **、**) は、言語ごとに意味が異なります。  これに対処するには、言語タグを含んでいる特殊なプレースホルダーを使用します。  さらに簡単な方法として、[定義済みの日付/時刻書式](#predefined-datetime-formats)という言語に依存しない方法もあります。
* **結果の言語:** ユーザーに対しては、関数の結果で使用される言語を指定する必要があります。  月と曜日の名前は、アプリのユーザーに合った言語で表示する必要があります。  これに対処するには、**Text** 関数に渡す 3 番目のオプションの引数を使用します。 

どちらの場合も、[言語タグ](function-language.md#language-tags)で言語を指定します。  サポートされている言語の種類のリストを確認するには、数式バーまたは詳細ビューに 「**Text( 1234, "", )**」と入力し、3 番目の引数に対して提案されたロケールのリストをスクロールします。

#### <a name="custom-format-language-placeholder"></a>カスタム書式の言語のプレースホルダー
カスタム書式の言語を指定するには、次を使用します。

| プレースホルダー | 説明 |
| --- | --- |
| **[$-*LanguageTag*]** |*LanguageTag* は **Language** 関数から返される言語タグです。  英語の場合は **[$-en]** のように言語だけの形式にしたり、**[$-en-GB]** のようにリージョンも含めて、英国を指定することもできます。 |

言語のプレースホルダーは、カスタム書式の任意の位置に 1 回だけ表示できます。

数式を作成するときに、言語のプレースホルダーを指定しない場合で、かつ書式文字列がグローバルの観点からあいまいな場合は、作成ツールによって現在の言語の言語タグが自動的に挿入されます。  

アプリの実行時にこのプレースホルダーが存在しない場合は、**[$-en-US]** が使用されるものとします。 

> [!NOTE]
> Excel でサポートされる似ているが異なるプレースホルダーと混同されないように、このプレースホルダーの構文は、今後のバージョンで変更される可能性があります。

#### <a name="result-language-tag"></a>結果の言語タグ
**Text** の結果には、月、曜日、AM/PM の指定に合わせて変換された文字列だけでなく、適切なグループ区切り記号と小数点も表示されます。

既定では、 **Text** は、アプリを実行しているユーザーの言語を使用します。  **Language** 関数は、現在のユーザーの言語タグを返します。  この既定の設定を上書きするには、オプションの 3 番目の引数の言語タグを **Text** に渡します。

## <a name="syntax"></a>構文
**Text**( *Number*, *DateTimeFormatEnum* [, *ResultLanguageTag* ] )

* *Number* - 必須。 書式設定する数値または日付/時刻値。
* *DateTimeFormat* - 必須。  **DateTimeFormat** 列挙のメンバー。
* *ResultLanguageTag* - オプション。  結果のテキストに使用する言語タグ。  既定では、現在のユーザーの言語が使用されます。

**Text**( *Number*, *CustomFormat* [, *ResultLanguageTag* ] )

* *Number* - 必須。 書式設定する数値または日付/時刻値。
* *CustomFormat* - 必須。 二重引用符で囲まれた 1 つ以上のプレース ホルダー。
* *ResultLanguageTag* - オプション。  結果のテキストに使用する言語タグ。  既定では、現在のユーザーの言語が使用されます。

## <a name="examples"></a>例
これらの式を実行しているユーザーは米国内のユーザーで、言語として英語を選択しています。  **Language** 関数は、"en-US" を返します。

### <a name="number"></a>Number
| 数式 | 説明 | 結果 |
| --- | --- | --- |
| **Text(&nbsp;1234.59,&nbsp;"####.#"&nbsp;)** |数値を小数点以下 1 桁で書式設定します。 |"1234.6" |
| **Text(&nbsp;8.9,&nbsp;"#.000"&nbsp;)** |必要な場合は、数値の小数部分の末尾を 0 で埋めます。 |"8.900" |
| **Text(&nbsp;0.631,&nbsp;"0.#"&nbsp;)** |必要な場合は、数値の整数部分の先頭を 0 で埋めます。 |"0.6" |
| **Text(&nbsp;12,&nbsp;"#.0#"&nbsp;)**<br>**Text(&nbsp;1234.568,&nbsp;"#.0#"&nbsp;)** |数値の小数部分の 1 桁目を 0 で埋め、小数点以下 2 桁目が指定されている場合は、小数点以下 2 桁目も含めます。 |"12.0"<br>"1234.57" |
| **Text(&nbsp;12000,&nbsp;"$ #,###"&nbsp;)**<br>**Text(&nbsp;1200000,&nbsp;"$&nbsp;#,###"&nbsp;)** |1,000 の区切り記号を 3 桁ごとに配置し、通貨記号を含めます。 |"$&nbsp;12,000"<br>"$&nbsp;1,200,000" |

### <a name="datetime"></a>日付/時刻
* **2015 年 11 月 23 日 月曜日** **午後 2 時 37 分 47 秒**
* 米国太平洋標準時タイム ゾーン (UTC-8)

| 数式 | 説明 | 結果 |
| --- | --- | --- |
| **Text( Now(), DateTimeFormat.LongDate )** |現在のユーザーの言語とロケールで、長い形式の日付の文字列として書式設定します。 |"2015 年 11 月 23 日 月曜日" |
| **Text( Now(), DateTimeFormat.LongDateTime )** |現在のユーザーの言語とロケールで、12 時間制を使用して、長い形式の日付と時刻の文字列として書式設定します。 |"2015 年 11 月 23 日 月曜日 午後 2 時 37 分 47 秒" |
| **Text( Now(), DateTimeFormat.LongTime24 )** |24 時間制を使用して、長い形式の時刻の文字列として書式設定します。 |"14:37:47" |
| **Text( Now(), DateTimeFormat.ShortDate )** |現在のユーザーの言語とロケールで、短い形式の日付の文字列として書式設定します。 |"2015/11/23" |
| **Text( Now(), "d-mmm-yy" )** |次のプレースホルダー文字を使用して、書式設定します。 <ul><li>**d**: 月の 1 桁または 2 桁の日<li>**-**: 結果にコピーされるリテラル文字<li>**mmm**: 月を表す 3 文字の省略形<li>**-**: 結果にコピーされる追加のリテラル文字<li>**yy**: 年を表す 2 桁の省略形</ul> |"23-Nov-15" |

### <a name="global-apps"></a>グローバル アプリ
| 数式 | 説明 | 結果 |
| --- | --- | --- |
| **Text( 1234567.89, "[$-en-US]$ #,###" )** |**,** を 3 文字ごとに配置するグループ区切り記号として、また **$** を通貨記号として解釈します。 小数点以下を表示しない場合は、値は次に大きい整数値に切り上げられます。 **[$-en-US]** は既定の設定であるため、この場合はオプションとなります。 |"$ 1,234,568" |
| **Text( 1234567.89, "[$-es-ES]&euro; #,###" )** |**,** を小数点として、また **&euro;** を通貨記号として解釈します。  **[$-fr-FR]** では、書式設定文字列の解釈方法のみ判断するため、結果には既定の "en-US" 言語タグの文字が使用されます。つまり、**.**  (ピリオド) を小数点に、**$** を通貨記号に使用します。 |"$ 1234567.89" |
| **Text( 1234567.89, "[$-es-ES]&euro; #,###", "es-ES" )** |**,** を小数点として解釈します。  結果の言語タグが "fr-FR" に設定された場合は、**,** (コンマ) は小数点として、**&euro;** は通貨記号として使用されます。 |"&euro; 1234567,89" |
| **Text( Date(2016,1,31), "dddd mmmm d" )** |現在のユーザーの言語で、曜日、月、および日を返します。 言語に依存するプレース ホルダーはないため、書式テキストの言語タグは必要ありません。 |"1 月 31 日 土曜日" |
| **Text( Date(2016,1,31), "dddd mmmm d", "es-ES" )** |"es-ES" 言語で、曜日、月、および日を返します。 |"domingo enero 31" |

